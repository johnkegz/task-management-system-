<nav class="navbar">
  <p class="navbar-brand">{{ title }}</p>
  <div class="navbar-main">
    <ul class="navbar-nav" *ngIf="isLoggedIn">
      <li class="nav-item">
        <a
          class="nav-link"
          routerLink="/tasks/dashboard"
          routerLinkActive="active"
          >Dashboard</a
        >
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/tasks/create" routerLinkActive="active"
          >Create Task</a
        >
      </li>
      <li class="nav-item">
        <a class="nav-link" *ngIf="isLoggedIn" (click)="logout()">Logout</a>
        <a class="nav-link" *ngIf="!isLoggedIn">Login/Register</a>
      </li>
    </ul>
    <ul class="navbar-nav ml-auto">
      <li class="nav-item">
        <span *ngIf="!isLoggedIn">
          <a class="nav-link">Login/Register</a>
        </span>
      </li>
      <li class="nav-item username" *ngIf="isLoggedIn">
        <span>{{ user?.username }}</span>
      </li>
    </ul>
  </div>
  <div
    class="navbar-toggler"
    [class.open]="isDrawerOpen"
    (click)="toggleDrawer()"
  >
    <div></div>
    <div></div>
    <div></div>
  </div>
</nav>

<div class="drawer" [class.open]="isDrawerOpen">
  <ul class="drawer-nav">
    <li class="nav-item" *ngIf="isLoggedIn">
      <a
        class="nav-link"
        routerLink="/tasks/dashboard"
        routerLinkActive="active"
        (click)="toggleDrawer()"
        >Dashboard</a
      >
    </li>
    <li class="nav-item" *ngIf="isLoggedIn">
      <a
        class="nav-link"
        routerLink="/tasks/create"
        routerLinkActive="active"
        (click)="toggleDrawer()"
        >Create Task</a
      >
    </li>
    <li class="nav-item">
      <span *ngIf="isLoggedIn; else drawerLoginButton">
        <a class="nav-link" (click)="logout(); toggleDrawer()">Logout</a>
      </span>
      <ng-template #drawerLoginButton>
        <a class="nav-link" (click)="toggleDrawer()">Login/Register</a>
      </ng-template>
    </li>
    <li class="nav-item username" *ngIf="isLoggedIn">
      <span>{{ user?.username }}</span>
    </li>
  </ul>
</div>
